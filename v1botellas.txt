

void compa√±ero() {
	while(1) {
		if (try_wait (mutex_reponiendo)) {
			signal (mutex_reponiendo);
			if (trywait(heladera_llena)) {
				tomando
			} else {
				if (trywait(en_supermercado)) {
					yendo al supermercado
					wait(mutex_reponiendo)
					for (i=0; i<cantidad_de_leches)
						signal(heladera_llena)
					signal(mutex_reponiendo)
					signal(en_supermercado)
				}
			}
		} else {
			estan reponiendo, hago otra cosa
		}
	}
}
